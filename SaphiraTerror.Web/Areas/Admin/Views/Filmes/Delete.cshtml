@model SaphiraTerror.Domain.Entities.Filme
@{
    ViewData["Title"] = "Excluir Filme";
    bool canDelete = User.IsInRole("Admin") || User.IsInRole("ADMIN") || User.IsInRole("Administrador");
}
<h2 class="mb-3">Excluir Filme</h2>

@if (!canDelete)
{
    <div class="alert alert-warning">Você não tem permissão para excluir. Apenas administradores podem executar esta ação.</div>
    <a class="btn btn-secondary" asp-action="Index">Voltar</a>
}
else
{
    <div class="alert alert-danger">
        Tem certeza que deseja excluir o filme <strong>@Model.Titulo</strong> (@Model.Ano)?
    </div>
    <dl class="row">
        <dt class="col-sm-2">Gênero</dt>
        <dd class="col-sm-10">@Model.Genero?.Nome</dd>
        <dt class="col-sm-2">Classificação</dt>
        <dd class="col-sm-10">@Model.Classificacao?.Nome</dd>
    </dl>
    <form asp-action="Delete" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" name="id" value="@Model.Id" />
        <button class="btn btn-danger" type="submit">Excluir</button>
        <a class="btn btn-secondary ms-2" asp-action="Index">Cancelar</a>
    </form>
}
