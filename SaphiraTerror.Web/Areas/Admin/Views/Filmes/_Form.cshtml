@* @model SaphiraTerror.Web.Areas.Admin.Models.FilmeEditVm
@{
    var generos = (IEnumerable<dynamic>)ViewBag.Generos;
    var classifs = (IEnumerable<dynamic>)ViewBag.Classificacoes;
}
<div class="mb-3">
    <label class="form-label">Título</label>
    <input asp-for="Titulo" class="form-control" />
    <span asp-validation-for="Titulo" class="text-danger"></span>
</div>
<div class="mb-3">
    <label class="form-label">Sinopse</label>
    <textarea asp-for="Sinopse" rows="4" class="form-control"></textarea>
    <span asp-validation-for="Sinopse" class="text-danger"></span>
</div>
<div class="row">
    <div class="col-md-3 mb-3">
        <label class="form-label">Ano</label>
        <input asp-for="Ano" type="number" class="form-control" />
        <span asp-validation-for="Ano" class="text-danger"></span>
    </div>
    <div class="col-md-5 mb-3">
        <label class="form-label">Imagem (URL)</label>
        <input asp-for="ImagemCapaUrl" class="form-control" placeholder="https://..." />
        <span asp-validation-for="ImagemCapaUrl" class="text-danger"></span>
    </div>
</div>
<div class="row">
    <div class="col-md-4 mb-3">
        <label class="form-label">Gênero</label>
        <select asp-for="GeneroId" class="form-select" asp-items="@(new SelectList(generos, "Id", "Nome", Model.GeneroId))"></select>
        <span asp-validation-for="GeneroId" class="text-danger"></span>
    </div>
    <div class="col-md-4 mb-3">
        <label class="form-label">Classificação</label>
        <select asp-for="ClassificacaoId" class="form-select" asp-items="@(new SelectList(classifs, "Id", "Nome", Model.ClassificacaoId))"></select>
        <span asp-validation-for="ClassificacaoId" class="text-danger"></span>
    </div>
</div> *@



@* refatorado fase 08 *@


@model SaphiraTerror.Web.Areas.Admin.Models.FilmeEditVm
@{
    var generos = (IEnumerable<dynamic>)(ViewBag.Generos ?? Array.Empty<object>());
    var classificacoes = (IEnumerable<dynamic>)(ViewBag.Classificacoes ?? Array.Empty<object>());
}

<div class="mb-3">
    <label asp-for="Titulo" class="form-label"></label>
    <input asp-for="Titulo" class="form-control" />
    <span asp-validation-for="Titulo" class="text-danger"></span>
</div>

<div class="row g-3">
    <div class="col-md-4">
        <label asp-for="Ano" class="form-label"></label>
        <input asp-for="Ano" class="form-control" />
        <span asp-validation-for="Ano" class="text-danger"></span>
    </div>
    <div class="col-md-4">
        <label asp-for="GeneroId" class="form-label">Gênero</label>
        <select asp-for="GeneroId" class="form-select"
                asp-items="@(new SelectList(generos, "Id", "Nome", Model.GeneroId))">
            <option value="">Selecione...</option>
        </select>
        <span asp-validation-for="GeneroId" class="text-danger"></span>
    </div>
    <div class="col-md-4">
        <label asp-for="ClassificacaoId" class="form-label">Classificação</label>
        <select asp-for="ClassificacaoId" class="form-select"
                asp-items="@(new SelectList(classificacoes, "Id", "Nome", Model.ClassificacaoId))">
            <option value="">Selecione...</option>
        </select>
        <span asp-validation-for="ClassificacaoId" class="text-danger"></span>
    </div>
</div>

<div class="mb-3 mt-3">
    <label asp-for="Sinopse" class="form-label"></label>
    <textarea asp-for="Sinopse" rows="4" class="form-control"></textarea>
    <span asp-validation-for="Sinopse" class="text-danger"></span>
</div>

<div class="mb-3">
    <label asp-for="ImagemCapaUrl" class="form-label">URL da capa (opcional)</label>
    <input asp-for="ImagemCapaUrl" class="form-control" placeholder="https://..." />
    <div class="form-text">Se enviar um arquivo abaixo, ele substitui esta URL.</div>
    <span asp-validation-for="ImagemCapaUrl" class="text-danger"></span>
</div>

<div class="mb-3">
    <label class="form-label">Enviar capa (opcional)</label>
    <input type="file" name="capaArquivo" accept=".jpg,.jpeg,.png,.webp" class="form-control" />
    <div class="form-text">Máx. 2 MB — formatos: JPG, PNG, WEBP.</div>
</div>

@if (!string.IsNullOrWhiteSpace(Model?.ImagemCapaUrl))
{
    <div class="mb-3">
        <label class="form-label">Preview</label><br />
        <img src="@Model.ImagemCapaUrl" alt="Capa" style="max-width:220px;border-radius:10px" />
    </div>
}
